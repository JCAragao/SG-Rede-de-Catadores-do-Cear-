namespace Sistema_de_Gerenciamento_da_Rede_de_Catadores_do_Ceará__Versão_Teste_
{
    partial class FilhoCatadorEditar
    {
        /// <summary>
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;

        /// <summary>
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Windows Form Designer generated code

        /// <summary>
        /// Required method for Designer support - do not modify
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            System.ComponentModel.ComponentResourceManager resources = new System.ComponentModel.ComponentResourceManager(typeof(FilhoCatadorEditar));
            this.btn_CancelarFilhoCatadorEditar = new System.Windows.Forms.Button();
            this.label2 = new System.Windows.Forms.Label();
            this.cbb_GeneroFilhoEditar = new System.Windows.Forms.ComboBox();
            this.btn_SalvarAlteracoesFilhoCatadorEditar = new System.Windows.Forms.Button();
            this.label1 = new System.Windows.Forms.Label();
            this.txt_DatadeNascimentoFilhoEditar = new System.Windows.Forms.TextBox();
            this.lbl_MaePaiCadastrarFilho = new System.Windows.Forms.Label();
            this.cbb_MaePaiEditarFilho = new System.Windows.Forms.ComboBox();
            this.txt_FilhoIDFilhoCatadorEditar = new System.Windows.Forms.TextBox();
            this.lbl_CPFEditar = new System.Windows.Forms.Label();
            this.lbl_NomedoServidor = new System.Windows.Forms.Label();
            this.SuspendLayout();
            // 
            // btn_CancelarFilhoCatadorEditar
            // 
            this.btn_CancelarFilhoCatadorEditar.Location = new System.Drawing.Point(237, 135);
            this.btn_CancelarFilhoCatadorEditar.Name = "btn_CancelarFilhoCatadorEditar";
            this.btn_CancelarFilhoCatadorEditar.Size = new System.Drawing.Size(75, 23);
            this.btn_CancelarFilhoCatadorEditar.TabIndex = 16;
            this.btn_CancelarFilhoCatadorEditar.Text = "Cancelar";
            this.btn_CancelarFilhoCatadorEditar.UseVisualStyleBackColor = true;
            this.btn_CancelarFilhoCatadorEditar.Click += new System.EventHandler(this.btn_CancelarFilhoCatadorEditar_Click);
            // 
            // label2
            // 
            this.label2.AutoSize = true;
            this.label2.Location = new System.Drawing.Point(21, 119);
            this.label2.Name = "label2";
            this.label2.Size = new System.Drawing.Size(42, 13);
            this.label2.TabIndex = 15;
            this.label2.Text = "Gênero";
            // 
            // cbb_GeneroFilhoEditar
            // 
            this.cbb_GeneroFilhoEditar.DropDownStyle = System.Windows.Forms.ComboBoxStyle.DropDownList;
            this.cbb_GeneroFilhoEditar.FormattingEnabled = true;
            this.cbb_GeneroFilhoEditar.Items.AddRange(new object[] {
            "Feminino",
            "Masculino"});
            this.cbb_GeneroFilhoEditar.Location = new System.Drawing.Point(11, 135);
            this.cbb_GeneroFilhoEditar.Name = "cbb_GeneroFilhoEditar";
            this.cbb_GeneroFilhoEditar.Size = new System.Drawing.Size(86, 21);
            this.cbb_GeneroFilhoEditar.TabIndex = 14;
            // 
            // btn_SalvarAlteracoesFilhoCatadorEditar
            // 
            this.btn_SalvarAlteracoesFilhoCatadorEditar.Location = new System.Drawing.Point(224, 109);
            this.btn_SalvarAlteracoesFilhoCatadorEditar.Name = "btn_SalvarAlteracoesFilhoCatadorEditar";
            this.btn_SalvarAlteracoesFilhoCatadorEditar.Size = new System.Drawing.Size(102, 23);
            this.btn_SalvarAlteracoesFilhoCatadorEditar.TabIndex = 13;
            this.btn_SalvarAlteracoesFilhoCatadorEditar.Text = "Salvar Alterações";
            this.btn_SalvarAlteracoesFilhoCatadorEditar.UseVisualStyleBackColor = true;
            this.btn_SalvarAlteracoesFilhoCatadorEditar.Click += new System.EventHandler(this.btn_SalvarAlteracoesFilhoCatadorEditar_Click);
            // 
            // label1
            // 
            this.label1.AutoSize = true;
            this.label1.Location = new System.Drawing.Point(12, 59);
            this.label1.Name = "label1";
            this.label1.Size = new System.Drawing.Size(104, 13);
            this.label1.TabIndex = 12;
            this.label1.Text = "Data de Nascimento";
            // 
            // txt_DatadeNascimentoFilhoEditar
            // 
            this.txt_DatadeNascimentoFilhoEditar.Location = new System.Drawing.Point(11, 83);
            this.txt_DatadeNascimentoFilhoEditar.Name = "txt_DatadeNascimentoFilhoEditar";
            this.txt_DatadeNascimentoFilhoEditar.Size = new System.Drawing.Size(86, 20);
            this.txt_DatadeNascimentoFilhoEditar.TabIndex = 11;
            this.txt_DatadeNascimentoFilhoEditar.KeyPress += new System.Windows.Forms.KeyPressEventHandler(this.txt_DatadeNascimentoFilhoEditar_KeyPress);
            // 
            // lbl_MaePaiCadastrarFilho
            // 
            this.lbl_MaePaiCadastrarFilho.AutoSize = true;
            this.lbl_MaePaiCadastrarFilho.Location = new System.Drawing.Point(12, 9);
            this.lbl_MaePaiCadastrarFilho.Name = "lbl_MaePaiCadastrarFilho";
            this.lbl_MaePaiCadastrarFilho.Size = new System.Drawing.Size(51, 13);
            this.lbl_MaePaiCadastrarFilho.TabIndex = 10;
            this.lbl_MaePaiCadastrarFilho.Text = "Mãe/ Pai";
            // 
            // cbb_MaePaiEditarFilho
            // 
            this.cbb_MaePaiEditarFilho.DropDownStyle = System.Windows.Forms.ComboBoxStyle.DropDownList;
            this.cbb_MaePaiEditarFilho.FormattingEnabled = true;
            this.cbb_MaePaiEditarFilho.Location = new System.Drawing.Point(11, 25);
            this.cbb_MaePaiEditarFilho.Name = "cbb_MaePaiEditarFilho";
            this.cbb_MaePaiEditarFilho.Size = new System.Drawing.Size(234, 21);
            this.cbb_MaePaiEditarFilho.TabIndex = 9;
            // 
            // txt_FilhoIDFilhoCatadorEditar
            // 
            this.txt_FilhoIDFilhoCatadorEditar.Location = new System.Drawing.Point(149, 83);
            this.txt_FilhoIDFilhoCatadorEditar.Name = "txt_FilhoIDFilhoCatadorEditar";
            this.txt_FilhoIDFilhoCatadorEditar.Size = new System.Drawing.Size(100, 20);
            this.txt_FilhoIDFilhoCatadorEditar.TabIndex = 17;
            this.txt_FilhoIDFilhoCatadorEditar.Visible = false;
            // 
            // lbl_CPFEditar
            // 
            this.lbl_CPFEditar.AutoSize = true;
            this.lbl_CPFEditar.Location = new System.Drawing.Point(266, 59);
            this.lbl_CPFEditar.Name = "lbl_CPFEditar";
            this.lbl_CPFEditar.Size = new System.Drawing.Size(70, 13);
            this.lbl_CPFEditar.TabIndex = 18;
            this.lbl_CPFEditar.Text = "lbl_CPFEditar";
            this.lbl_CPFEditar.Visible = false;
            // 
            // lbl_NomedoServidor
            // 
            this.lbl_NomedoServidor.AutoSize = true;
            this.lbl_NomedoServidor.Location = new System.Drawing.Point(136, 145);
            this.lbl_NomedoServidor.Name = "lbl_NomedoServidor";
            this.lbl_NomedoServidor.Size = new System.Drawing.Size(86, 13);
            this.lbl_NomedoServidor.TabIndex = 19;
            this.lbl_NomedoServidor.Text = "NomedoServidor";
            this.lbl_NomedoServidor.Visible = false;
            // 
            // FilhoCatadorEditar
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(333, 167);
            this.Controls.Add(this.lbl_NomedoServidor);
            this.Controls.Add(this.lbl_CPFEditar);
            this.Controls.Add(this.txt_FilhoIDFilhoCatadorEditar);
            this.Controls.Add(this.btn_CancelarFilhoCatadorEditar);
            this.Controls.Add(this.label2);
            this.Controls.Add(this.cbb_GeneroFilhoEditar);
            this.Controls.Add(this.btn_SalvarAlteracoesFilhoCatadorEditar);
            this.Controls.Add(this.label1);
            this.Controls.Add(this.txt_DatadeNascimentoFilhoEditar);
            this.Controls.Add(this.lbl_MaePaiCadastrarFilho);
            this.Controls.Add(this.cbb_MaePaiEditarFilho);
            this.Icon = ((System.Drawing.Icon)(resources.GetObject("$this.Icon")));
            this.MaximizeBox = false;
            this.MaximumSize = new System.Drawing.Size(349, 206);
            this.MinimizeBox = false;
            this.MinimumSize = new System.Drawing.Size(349, 206);
            this.Name = "FilhoCatadorEditar";
            this.Text = "Editar Catador - Filhos";
            this.Load += new System.EventHandler(this.FilhoCatadorEditar_Load);
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        #endregion

        private System.Windows.Forms.Button btn_CancelarFilhoCatadorEditar;
        private System.Windows.Forms.Label label2;
        public System.Windows.Forms.ComboBox cbb_GeneroFilhoEditar;
        private System.Windows.Forms.Button btn_SalvarAlteracoesFilhoCatadorEditar;
        private System.Windows.Forms.Label label1;
        private System.Windows.Forms.Label lbl_MaePaiCadastrarFilho;
        public System.Windows.Forms.ComboBox cbb_MaePaiEditarFilho;
        public System.Windows.Forms.TextBox txt_DatadeNascimentoFilhoEditar;
        public System.Windows.Forms.TextBox txt_FilhoIDFilhoCatadorEditar;
        public System.Windows.Forms.Label lbl_CPFEditar;
        public System.Windows.Forms.Label lbl_NomedoServidor;
    }
}

using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Globalization;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Sistema_de_Gerenciamento_da_Rede_de_Catadores_do_Ceará__Versão_Teste_
{
    public partial class FilhoCatadorEditar : Form
    {
        public FilhoCatadorEditar()
        {
            InitializeComponent();
        }

        private void FilhoCatadorEditar_Load(object sender, EventArgs e)
        {
            {
              

            }
        }

        private void btn_SalvarAlteracoesFilhoCatadorEditar_Click(object sender, EventArgs e)
        {

            string format = "dd/MM/yyyy";
            string DatadeNascimento = txt_DatadeNascimentoFilhoEditar.Text;
            DateTime dateTime;
            if (DateTime.TryParseExact(DatadeNascimento, format, CultureInfo.InvariantCulture, DateTimeStyles.AllowWhiteSpaces, out dateTime))
            {
                if (cbb_MaePaiEditarFilho.SelectedIndex != -1)
                {
                    if (txt_DatadeNascimentoFilhoEditar.Text != "")
                    {
                        if (cbb_GeneroFilhoEditar.SelectedIndex != -1)
                        {
                            Criptografia cryptography = new Criptografia(System.Configuration.ConfigurationManager.AppSettings[""]);
                            string GeneroCrip = cbb_GeneroFilhoEditar.Text;
                            string DataCrip = cryptography.Encriptar(txt_FilhoIDFilhoCatadorEditar.Text);

                            SalvarAlteracoesFilhoCatadorEditar filhocatadoreditar = new SalvarAlteracoesFilhoCatadorEditar();
                            filhocatadoreditar.PaiMae = cbb_MaePaiEditarFilho.Text;
                            filhocatadoreditar.DataNascimento = DataCrip;
                            filhocatadoreditar.Genero = GeneroCrip;
                            filhocatadoreditar.ID_Filho = txt_FilhoIDFilhoCatadorEditar.Text;
                            filhocatadoreditar.NomedoServidor = lbl_NomedoServidor.Text;
                            ConexaoBancodeDados.SalvarAlteracoesFilho(filhocatadoreditar);
                            this.Close();
                        }
                        else
                        {
                            MessageBox.Show("O campo Gênero nao foi preenchido", "Campo inválido", MessageBoxButtons.OK);
                            return;
                        }
                    }
                    else
                    {
                        MessageBox.Show("O campo Data de Nascimento nao foi preenchido", "Campo inválido", MessageBoxButtons.OK);
                        return;

                    }
                }
                else
                {
                    MessageBox.Show("O campo pai/mãe nao foi preenchido", "Campo inválido", MessageBoxButtons.OK);
                    return;
                }
            }
            else
            {
                MessageBox.Show("Digite um formato válido de data de nascimento.");
                return;

            }
        }

        private void txt_DatadeNascimentoFilhoEditar_KeyPress(object sender, KeyPressEventArgs e)
        {
            if ((!char.IsNumber(e.KeyChar) && !char.IsControl(e.KeyChar) && e.KeyChar !='/'))
            {
                e.Handled = true;
            }
        }

        private void btn_CancelarFilhoCatadorEditar_Click(object sender, EventArgs e)
        {
            this.Close();
        }
    }
}
